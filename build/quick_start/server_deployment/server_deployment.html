

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Server-side Deployment &mdash; APIJSON Docs 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Client-side Deployment" href="../client_deployment/client_deployment.html" />
    <link rel="prev" title="Features" href="../features.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> APIJSON Docs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Quick Start</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">About APIJSON</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Server-side Deployment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-with-eclipse">1. Installing with Eclipse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#importing-database">2. Importing database</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-with-intellij-idea-ultimate">3. Installing with IntellIJ IDEA Ultimate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#opening-the-project">Opening the project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#preparing-the-library-used-in-demo">Preparing the library used in demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-application">Running the application</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../client_deployment/client_deployment.html">Client-side Deployment</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/design_rules.html">API design style guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/why.html">How does APIJSON works?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/what_achieved.html">What APIJSON has achieved?</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">APIJSON Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Server-side Deployment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/quick_start/server_deployment/server_deployment.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="server-side-deployment">
<h1>Server-side Deployment<a class="headerlink" href="#server-side-deployment" title="Permalink to this headline">¶</a></h1>
<p>This chapter shows how to make installation with Eclipse for JavaEE or IntelllJ IDEA Ultimate. For both, first download the project, unzip it and save it in a directory. you can also clone the project from github:</p>
<p><code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/TommyLemon/APIJSON.git</span></code></p>
<div class="section" id="installing-with-eclipse">
<h2>1. Installing with Eclipse<a class="headerlink" href="#installing-with-eclipse" title="Permalink to this headline">¶</a></h2>
<p><strong>Prerequisites</strong></p>
<ul class="simple">
<li><p>Java Development Kit(JDK): version 1.8 or above.</p></li>
<li><p><a class="reference external" href="https://maven.apache.org/download.cgi">MAVEN</a>: version 3.0 or above</p></li>
<li><p>Mysql / Oracle</p></li>
<li><p><a class="reference external" href="https://www.eclipse.org/downloads/">Eclipse Java EE IDE</a> for Web Developers with version: Mars.1 Release (4.5.1)</p></li>
</ul>
<p><strong>Opening the project with Eclipse</strong></p>
<blockquote>
<div><p>Open Eclipse, then select <strong>File &gt; Import &gt; Maven &gt; Existing Maven Projects &gt; Next &gt; Browse &gt; Select the path of the project &gt; APIJSON-Java-Server &gt; APIJSONBoot &gt; check pom.xml…apijson-demo &gt; Finish</strong></p>
</div></blockquote>
<p><strong>Preparing the library used in demo</strong></p>
<p>In the menu at the right, click <strong>libs</strong>, then right click <strong>apijson-orm.jar</strong>, click <strong>add as library</strong>. Apply the same to the rest of .jar files in libs folder.</p>
<p><strong>Add your own database</strong></p>
<p>If you want to add your own database, open src-main-java-apijson-demo-server-model-DemoSQLConfig.java. In line 40-61, change return values of <code class="code docutils literal notranslate"><span class="pre">getDBUri</span></code>, <code class="code docutils literal notranslate"><span class="pre">getDBAccount</span></code>, <code class="code docutils literal notranslate"><span class="pre">getDBPassword</span></code>, <code class="code docutils literal notranslate"><span class="pre">getSchema</span></code> to your own database.</p>
<a class="reference internal image-reference" href="../../_images/changedatabase.png"><img alt="../../_images/changedatabase.png" src="../../_images/changedatabase.png" style="width: 300px;" /></a>
<p>This is the file that you need to make changes.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
   <span class="kd">public</span> <span class="n">String</span> <span class="nf">getDBUri</span><span class="o">()</span> <span class="o">{</span>
       <span class="c1">//TODO: Change the return value to your own</span>
       <span class="k">return</span> <span class="n">DATABASE_POSTGRESQL</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="n">getDatabase</span><span class="o">())</span> <span class="o">?</span> <span class="s">&quot;jdbc:postgresql://localhost:5432/postgres&quot;</span> <span class="o">:</span> <span class="s">&quot;jdbc:mysql://192.168.71.146:3306/&quot;</span><span class="o">;</span>
   <span class="o">}</span>
   <span class="nd">@Override</span>
   <span class="kd">public</span> <span class="n">String</span> <span class="nf">getDBAccount</span><span class="o">()</span> <span class="o">{</span>
   <span class="c1">//TODO: Change the return value to your own</span>
       <span class="k">return</span> <span class="n">DATABASE_POSTGRESQL</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="n">getDatabase</span><span class="o">())</span> <span class="o">?</span> <span class="s">&quot;postgres&quot;</span> <span class="o">:</span> <span class="s">&quot;root&quot;</span><span class="o">;</span>
   <span class="o">}</span>
   <span class="nd">@Override</span>
   <span class="kd">public</span> <span class="n">String</span> <span class="nf">getDBPassword</span><span class="o">()</span> <span class="o">{</span>
   <span class="c1">//TODO: Change the return value to your own</span>
       <span class="k">return</span> <span class="n">DATABASE_POSTGRESQL</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="n">getDatabase</span><span class="o">())</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="s">&quot;root&quot;</span><span class="o">;</span>
   <span class="o">}</span>
   <span class="nd">@Override</span>
   <span class="kd">public</span> <span class="n">String</span> <span class="nf">getSchema</span><span class="o">()</span> <span class="o">{</span>
       <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="kd">super</span><span class="o">.</span><span class="na">getSchema</span><span class="o">();</span>
       <span class="k">return</span> <span class="n">StringUtil</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="kc">true</span><span class="o">)</span> <span class="o">?</span> <span class="s">&quot;thea&quot;</span> <span class="o">:</span> <span class="n">s</span><span class="o">;</span> <span class="c1">//TODO: Change the return value to your own. For here,change &quot;thea&quot; to &quot;your database&#39;s name&quot;</span>
   <span class="o">}</span>
</pre></div>
</div>
<p><strong>Running the application</strong></p>
<p>In Eclipse, in the menu on the top, click <strong>Run &gt; Run As &gt; Java Application &gt;choose APIJSONApplication &gt; OK</strong></p>
<a class="reference internal image-reference" href="../../_images/complete.gif"><img alt="../../_images/complete.gif" src="../../_images/complete.gif" style="width: 600px;" /></a>
<p>Then copy and paste link <cite>http://localhost:8080/get/{}</cite> to your browser to see if it returns the succesful message.</p>
</div>
<div class="section" id="importing-database">
<h2>2. Importing database<a class="headerlink" href="#importing-database" title="Permalink to this headline">¶</a></h2>
<p>This project needs <a class="reference external" href="https://dev.mysql.com/downloads/mysql/">MySQL Server</a> and <a class="reference external" href="https://www.mysql.com/products/workbench/">MySQLWorkbench</a>. Please make sure that both of them are installed.</p>
<p>My configuration:</p>
<ul class="simple">
<li><p>Windows 7 + MySQL Community Server 5.7.16 + MySQLWorkbench 6.3.7</p></li>
<li><p>OSX EI Capitan + MySQL Community Server 5.7.16 + MySQLWorkbench 6.3.8</p></li>
<li><p>Systems and softwares are all 64 bit.</p></li>
</ul>
<p>Select <strong>MySQLWorkbench &gt; Enter a connection &gt; Click Server menu &gt; Data Import &gt; Select the path of your .sql file &gt; Start Import &gt; Refresh SCHEMAS</strong>. Now you should see tables are added successfully.</p>
<p>You can also import demo sql tables in <em>MySQL</em> folder to test the app.</p>
<img alt="https://vincentcheng.github.io/apijson-doc/assets/img/use1.708387e0.png" src="https://vincentcheng.github.io/apijson-doc/assets/img/use1.708387e0.png" />
</div>
<div class="section" id="installing-with-intellij-idea-ultimate">
<h2>3. Installing with IntellIJ IDEA Ultimate<a class="headerlink" href="#installing-with-intellij-idea-ultimate" title="Permalink to this headline">¶</a></h2>
<div class="section" id="opening-the-project">
<h3>Opening the project<a class="headerlink" href="#opening-the-project" title="Permalink to this headline">¶</a></h3>
<p><strong>Open &gt; Select the path of the project/APIJSON-Java-Server/APIJSONBoot &gt; OK</strong></p>
</div>
<div class="section" id="preparing-the-library-used-in-demo">
<h3>Preparing the library used in demo<a class="headerlink" href="#preparing-the-library-used-in-demo" title="Permalink to this headline">¶</a></h3>
<p>In libs, right-click <strong>apijson-orm.jar &gt; Add as Library &gt; OK</strong>. Apply this to all <em>.jar</em> files in libs.</p>
</div>
<div class="section" id="running-the-application">
<h3>Running the application<a class="headerlink" href="#running-the-application" title="Permalink to this headline">¶</a></h3>
<p>In the menu on the top: <strong>Run &gt; Run &gt; Edit Configurations &gt; + &gt; Application &gt; Configuration</strong></p>
<p>In <strong>Main class</strong>, choose <strong>APIJSON Application</strong>.</p>
<p>In <strong>Use classpath of module</strong> , choose <strong>apijson-demo</strong>.</p>
<p>Click <strong>Run</strong> in the bottom.</p>
<p><strong>Note</strong>: After running, you should see test logs and finally, it would show ‘APIJSON已启动’ (APIJSON has launched). If it shows error message‘The address is already in use’, that means port 8080 has been used. You need to change the port. See <a class="reference external" href="https://stackoverflow.com/questions/21083170/how-to-configure-port-for-a-spring-boot-application">how to change ports for a Spring Boot Application</a></p>
<p>Then copy and paste link <cite>http://localhost:8080/get/{}</cite> to your browser.</p>
<p>If it’s successful it returns with:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
  <span class="nt">&quot;msg&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../client_deployment/client_deployment.html" class="btn btn-neutral float-right" title="Client-side Deployment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../features.html" class="btn btn-neutral float-left" title="Features" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Ruoran Wang

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>